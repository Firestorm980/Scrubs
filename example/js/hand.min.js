var HANDJS=HANDJS||{};(function(){if(window.PointerEvent){return}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(D){var E=Object(this);var B=E.length>>>0;if(B===0){return -1}var F=0;if(arguments.length>0){F=Number(arguments[1]);if(F!=F){F=0}else{if(F!=0&&F!=Infinity&&F!=-Infinity){F=(F>0||-1)*Math.floor(Math.abs(F))}}}if(F>=B){return -1}var C=F>=0?F:Math.max(B-Math.abs(F),0);for(;C<B;C++){if(C in E&&E[C]===D){return C}}return -1}}if(!Array.prototype.forEach){Array.prototype.forEach=function(D,B){if(!this||!(D instanceof Function)){throw new TypeError()}for(var C=0;C<this.length;C++){D.call(B,this[C],C,this)}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")}}var A=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel","pointerenter","pointerleave"];var h=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"];var n="touch";var q="pen";var s="mouse";var i={};var e=function(B){while(B&&!B.handjs_forcePreventDefault){B=B.parentNode}return !!B||window.handjs_forcePreventDefault};var c=function(E,C,G,I,B){var D;if(document.createEvent){D=document.createEvent("MouseEvents");D.initMouseEvent(C,G,true,window,1,E.screenX,E.screenY,E.clientX,E.clientY,E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,B||E.relatedTarget)}else{D=document.createEventObject();D.screenX=E.screenX;D.screenY=E.screenY;D.clientX=E.clientX;D.clientY=E.clientY;D.ctrlKey=E.ctrlKey;D.altKey=E.altKey;D.shiftKey=E.shiftKey;D.metaKey=E.metaKey;D.button=E.button;D.relatedTarget=B||E.relatedTarget}if(D.offsetX===undefined){if(E.offsetX!==undefined){if(Object&&Object.defineProperty!==undefined){Object.defineProperty(D,"offsetX",{writable:true});Object.defineProperty(D,"offsetY",{writable:true})}D.offsetX=E.offsetX;D.offsetY=E.offsetY}else{if(Object&&Object.defineProperty!==undefined){Object.defineProperty(D,"offsetX",{get:function(){if(this.currentTarget&&this.currentTarget.offsetLeft){return E.clientX-this.currentTarget.offsetLeft}return E.clientX}});Object.defineProperty(D,"offsetY",{get:function(){if(this.currentTarget&&this.currentTarget.offsetTop){return E.clientY-this.currentTarget.offsetTop}return E.clientY}})}else{if(E.layerX!==undefined){D.offsetX=E.layerX-E.currentTarget.offsetLeft;D.offsetY=E.layerY-E.currentTarget.offsetTop}}}}if(E.isPrimary!==undefined){D.isPrimary=E.isPrimary}else{D.isPrimary=true}if(E.pressure){D.pressure=E.pressure}else{var F=0;if(E.which!==undefined){F=E.which}else{if(E.button!==undefined){F=E.button}}D.pressure=(F==0)?0:0.5}if(E.rotation){D.rotation=E.rotation}else{D.rotation=0}if(E.hwTimestamp){D.hwTimestamp=E.hwTimestamp}else{D.hwTimestamp=0}if(E.tiltX){D.tiltX=E.tiltX}else{D.tiltX=0}if(E.tiltY){D.tiltY=E.tiltY}else{D.tiltY=0}if(E.height){D.height=E.height}else{D.height=0}if(E.width){D.width=E.width}else{D.width=0}D.preventDefault=function(){if(E.preventDefault!==undefined){E.preventDefault()}};if(D.stopPropagation!==undefined){var H=D.stopPropagation;D.stopPropagation=function(){if(E.stopPropagation!==undefined){E.stopPropagation()}H.call(this)}}D.pointerId=E.pointerId;D.pointerType=E.pointerType;switch(D.pointerType){case 2:D.pointerType=n;break;case 3:D.pointerType=q;break;case 4:D.pointerType=s;break}if(I){I.dispatchEvent(D)}else{if(E.target){E.target.dispatchEvent(D)}else{E.srcElement.fireEvent("on"+u(C),D)}}};var j=function(C,D,E,F,B){C.pointerId=1;C.pointerType=s;c(C,D,E,F,B)};var o=function(D,E,G,C,F,B){var H=E.identifier+2;E.pointerId=H;E.pointerType=n;E.currentTarget=G;if(C.preventDefault!==undefined){E.preventDefault=function(){C.preventDefault()}}c(E,D,F,G,B)};var r=function(C,B){return C.__handjsGlobalRegisteredEvents&&C.__handjsGlobalRegisteredEvents[B]};var a=function(C,B){while(C&&!r(C,B)){C=C.parentNode}if(C){return C}else{if(r(window,B)){return window}}};var d=function(D,E,G,C,F,B){if(a(G,D)){o(D,E,G,C,F,B)}};var u=function(B){return B.toLowerCase().replace("pointer","mouse")};var w=function(D,B){var C=A.indexOf(B);var E=D+h[C];return E};var z=function(E,C,D,B){if(E.__handjsRegisteredEvents===undefined){E.__handjsRegisteredEvents=[]}if(B){if(E.__handjsRegisteredEvents[C]!==undefined){E.__handjsRegisteredEvents[C]++;return}E.__handjsRegisteredEvents[C]=1;E.addEventListener(C,D,false)}else{if(E.__handjsRegisteredEvents.indexOf(C)!==-1){E.__handjsRegisteredEvents[C]--;if(E.__handjsRegisteredEvents[C]!=0){return}}E.removeEventListener(C,D);E.__handjsRegisteredEvents[C]=0}};var f=function(F,C,D){if(!F.__handjsGlobalRegisteredEvents){F.__handjsGlobalRegisteredEvents=[]}if(D){if(F.__handjsGlobalRegisteredEvents[C]!==undefined){F.__handjsGlobalRegisteredEvents[C]++;return}F.__handjsGlobalRegisteredEvents[C]=1}else{if(F.__handjsGlobalRegisteredEvents[C]!==undefined){F.__handjsGlobalRegisteredEvents[C]--;if(F.__handjsGlobalRegisteredEvents[C]<0){F.__handjsGlobalRegisteredEvents[C]=0}}}var G;var B;if(window.MSPointerEvent){G=function(H){return w("MS",H)};B=c}else{G=u;B=j}switch(C){case"pointerenter":case"pointerleave":var E=G(C);if(F["on"+E.toLowerCase()]!==undefined){z(F,E,function(H){B(H,C)},D)}break}};var p=function(B){var D=B.prototype?B.prototype.addEventListener:B.addEventListener;var C=function(F,G,E){if(A.indexOf(F)!=-1){f(this,F,true)}if(D===undefined){this.attachEvent("on"+u(F),G)}else{D.call(this,F,G,E)}};if(B.prototype){B.prototype.addEventListener=C}else{B.addEventListener=C}};var m=function(B){var D=B.prototype?B.prototype.removeEventListener:B.removeEventListener;var C=function(F,G,E){if(A.indexOf(F)!=-1){f(this,F,false)}if(D===undefined){this.detachEvent(u(F),G)}else{D.call(this,F,G,E)}};if(B.prototype){B.prototype.removeEventListener=C}else{B.removeEventListener=C}};p(window);p(window.HTMLElement||window.Element);p(document);p(HTMLBodyElement);p(HTMLDivElement);p(HTMLImageElement);p(HTMLUListElement);p(HTMLAnchorElement);p(HTMLLIElement);p(HTMLTableElement);if(window.HTMLSpanElement){p(HTMLSpanElement)}if(window.HTMLCanvasElement){p(HTMLCanvasElement)}if(window.SVGElement){p(SVGElement)}m(window);m(window.HTMLElement||window.Element);m(document);m(HTMLBodyElement);m(HTMLDivElement);m(HTMLImageElement);m(HTMLUListElement);m(HTMLAnchorElement);m(HTMLLIElement);m(HTMLTableElement);if(window.HTMLSpanElement){m(HTMLSpanElement)}if(window.HTMLCanvasElement){m(HTMLCanvasElement)}if(window.SVGElement){m(SVGElement)}var b=false;var k=-1;function v(){b=true;clearTimeout(k);k=setTimeout(function(){b=false},700)}function l(C){var B=[];if(C){B.unshift(C);while(C.parentNode){B.unshift(C.parentNode);C=C.parentNode}}return B}function x(E,C){var D=l(E);var B=l(C);var F=null;while(D.length>0&&D[0]==B.shift()){F=D.shift()}return F}function t(E,B,G){var F=x(E,B);var D=E;var C=[];while(D&&D!=F){if(r(D,"pointerenter")){C.push(D)}D=D.parentNode}while(C.length>0){G(C.pop())}}function g(D,B,F){var E=x(D,B);var C=D;while(C&&C!=E){if(r(C,"pointerleave")){F(C)}C=C.parentNode}}function y(C,B){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach(function(D){window.addEventListener(C(D),function(E){if(!b&&a(E.target,D)){B(E,D,true)}})});if(window["on"+C("pointerenter").toLowerCase()]===undefined){window.addEventListener(C("pointerover"),function(E){if(b){return}var D=a(E.target,"pointerenter");if(!D||D===window){return}else{if(!D.contains(E.relatedTarget)){t(D,E.relatedTarget,function(F){B(E,"pointerenter",false,F,E.relatedTarget)})}}})}if(window["on"+C("pointerleave").toLowerCase()]===undefined){window.addEventListener(C("pointerout"),function(E){if(b){return}var D=a(E.target,"pointerleave");if(!D||D===window){return}else{if(!D.contains(E.relatedTarget)){g(D,E.relatedTarget,function(F){B(E,"pointerleave",false,F,E.relatedTarget)})}}})}}(function(){if(window.MSPointerEvent){y(function(B){return w("MS",B)},c)}else{y(u,j);if(window.ontouchstart!==undefined){window.addEventListener("touchstart",function(B){for(var C=0;C<B.changedTouches.length;++C){var D=B.changedTouches[C];i[D.identifier]=D.target;d("pointerover",D,D.target,B,true);t(D.target,null,function(E){o("pointerenter",D,E,B,false)});d("pointerdown",D,D.target,B,true)}v()});window.addEventListener("touchend",function(B){for(var C=0;C<B.changedTouches.length;++C){var D=B.changedTouches[C];var E=i[D.identifier];d("pointerup",D,E,B,true);d("pointerout",D,E,B,true);g(E,null,function(F){o("pointerleave",D,F,B,false)})}v()});window.addEventListener("touchmove",function(B){for(var C=0;C<B.changedTouches.length;++C){var D=B.changedTouches[C];var F=document.elementFromPoint(D.clientX,D.clientY);var E=i[D.identifier];if(E&&e(E)===true){B.preventDefault()}d("pointermove",D,E,B,true);if(E===F){continue}if(E){d("pointerout",D,E,B,true,F);if(!E.contains(F)){g(E,F,function(G){o("pointerleave",D,G,B,false,F)})}}if(F){d("pointerover",D,F,B,true,E);if(!F.contains(E)){t(F,E,function(G){o("pointerenter",D,G,B,false,E)})}}i[D.identifier]=F}v()});window.addEventListener("touchcancel",function(B){for(var C=0;C<B.changedTouches.length;++C){var D=B.changedTouches[C];d("pointercancel",D,i[D.identifier],B,true)}})}}})();if(navigator.pointerEnabled===undefined){navigator.pointerEnabled=true;if(navigator.msPointerEnabled){navigator.maxTouchPoints=navigator.msMaxTouchPoints}}if(document.styleSheets&&document.addEventListener){document.addEventListener("DOMContentLoaded",function(){if(HANDJS.doNotProcessCSS||document.body.style.touchAction!==undefined){return}var B=new RegExp(".+?{.*?}","m");var C=new RegExp(".+?{","m");var M=function(T){var P=B.exec(T);if(!P){return}var S=P[0];T=T.replace(S,"").trim();var R=C.exec(S)[0].replace("{","").trim();if(S.replace(/\s/g,"").indexOf("touch-action:none")!=-1){var Q=document.querySelectorAll(R);for(var O=0;O<Q.length;O++){var N=Q[O];if(N.style.msTouchAction!==undefined){N.style.msTouchAction="none"}else{N.handjs_forcePreventDefault=true}}}return T};var D=function(N){if(window.setImmediate){if(N){setImmediate(D,M(N))}}else{while(N){N=M(N)}}};try{for(var E=0;E<document.styleSheets.length;E++){var G=document.styleSheets[E];if(G.href==undefined){continue}var L=new XMLHttpRequest();L.open("get",G.href);L.send();var I=L.responseText.replace(/(\n|\r)/g,"");D(I)}}catch(F){}var K=document.getElementsByTagName("style");for(var E=0;E<K.length;E++){var H=K[E];var J=H.innerHTML.replace(/(\n|\r)/g,"").trim();D(J)}},false)}})();